<html>
  <head>
    <title>GGP.org - View</title>
    <meta name="description" content="General game playing is about playing games that you've never seen before. Watch intelligent computers play games against each other here!" />  
    <link rel="shortcut icon" href="http://www.ggp.org/favicon.ico">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans:bold">
    <link rel="stylesheet" type="text/css" href="/viewer/bellerophon.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type='text/javascript' src='//www.ggp.org/scripts/Analytics.js'></script>    
  </head>
  <body>
    <script type='text/javascript' src='//www.ggp.org/scripts/common/ResourceLoader.js'></script>
    <script type="text/javascript" src="/viewer/bellerophonHeader.js"></script>
    <script type="text/javascript" src="//www.ggp.org/scripts/external/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="//people.iola.dk/olau/flot/jquery.flot.stack.js"></script>     

    <div id='header'></div>
    <br>
    <div style="margin-left: 25%; width: 50%">
    <p>Welcome to the experimental new GGP.org Viewer (codenamed Bellerophon). This is a unified
       viewing interface for all GGP content (players, games, matches, aggregate statistics) spanning
       game repositories, spectator servers, match hosts, etc.</p>       
    <p>For example, you can view matches:
       <ul>
         <li><a href="/view/apollo/matches/">signed by the Apollo gaming server</a>,
         <li><a href="/view/dresden/matches/">signed by the Dresden gaming server</a>,
         <li><a href="/view/unsigned/matches/">not signed by any gaming server</a>, 
         <li>or <a href="/view/all/matches">from any gaming server</a>.
       </ul>
    <p>This interface is still in-development. Please file bug reports.</p>
    </div>
    <br>
    <center>
      <div id="matches_viz" style="width:600px;height:300px;"></div>
    </center>
    
    <script type='text/javascript'>
      generateHeader(document.getElementById('header'));
      
      generateTimeSeries = function (z) {
        var q = [];
        for (var x in z) {
          if (z[x] >= 0) {
            q.push([1*x, z[x]]);
          }
        }
        q.sort();
        return q;
      }
      generateTimeSeriesFromData = function (z) {
        return generateTimeSeries(ResourceLoader.load_json('//database.ggp.org/statistics/'+z+'/overall').matchesStartedChart);
      }
      
      qApollo = generateTimeSeriesFromData('90bd08a7df7b8113a45f1e537c1853c3974006b2');      
      qArtemis = generateTimeSeriesFromData('5bc94f8e793772e8585a444f2fc95d2ac087fed0');
      qDresden = generateTimeSeriesFromData('f69721b2f73839e513eed991e96824f1af218ac1');      
      qUnsigned = generateTimeSeriesFromData('unsigned');
      qSample = generateTimeSeriesFromData('0ca7065b86d7646166d86233f9e23ac47d8320d4');

      // aqua, azure, beige, black, blue, brown, cyan
      // darkblue, darkcyan, darkgrey, darkgreen, darkkhaki, darkmagenta
      // darkolivegreen, darkorange, darkorchid, darkred, darksalmon,
      // darkviolet, fuchsia, gold, green, indigo, khaki, lightblue,
      // lightcyan, lightgreen, lightgrey, lightpink, lightyellow, lime
      // magenta, maroon, navy, olive, orange, pink, purple, violet, red
      // silver, white, yellow

      $.plot($("#matches_viz"), [{data: qArtemis,  label: "Artemis Matches",  color: 'khaki'},
                                 {data: qDresden,  label: "Dresden Matches",  color: 'blue'},
                                 {data: qApollo,   label: "Apollo Matches",   color: 'green'},
                                 {data: qUnsigned, label: "Unsigned Matches", color: 'silver'},
                                 {data: qSample,   label: "Sample Matches",   color: 'grey'},
                                 ],
             {xaxes: [{mode:'time'}],
              lines: {show: true, fill: true},             
              series: {stack: true},
              legend: {position: 'nw'}});
    </script>
  </body>  
</html>